function y = ecg_LP_filter_125_22(x)
%ECG_LP_FILTER_125_22 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.1 and the DSP System Toolbox 9.3.
% Generated on: 13-Aug-2018 11:03:05

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Lowpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 125;  % Sampling Frequency
    %
    % Fpass = 22;              % Passband Frequency
    % Fstop = 25;              % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.0001;          % Stopband Attenuation
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass, Fstop]/(Fs/2), [1 0], [Dpass, Dstop]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.000565284115571822 -0.00244013953902201 ...
        -0.00565142810678361 -0.00893280183169497 -0.00975930365741415 ...
        -0.00655232978364926 -0.000484128570803981 0.00447469467579767 ...
        0.00475437973871647 0.000548062872608657 -0.00381491474925871 ...
        -0.00389810022571786 0.00034084655276477 0.00422695372221901 ...
        0.00330856712401722 -0.00159526956395403 -0.00491963966865528 ...
        -0.00254213573281125 0.00316976097922401 0.00555626927804892 ...
        0.00133315571734353 -0.00501818775278523 -0.00586839744659332 ...
        0.000492952103616441 0.00702056423076478 0.00558491087427046 ...
        -0.00302809445644428 -0.00895693619844078 -0.00441419642396248 ...
        0.00628422547014579 0.0105124444862346 0.00205718082089686 ...
        -0.0101855029881586 -0.0112848561267494 0.00177684387205202 ...
        0.0145535451322666 0.0107635099625934 -0.0074017128932904 ...
        -0.019114452694763 -0.00825969852221126 0.0152812045293529 ...
        0.0235385483188136 0.00270237704019556 -0.0263866312812335 ...
        -0.027479955818068 0.00814686351685512 0.0435032642143533 ...
        0.0305905027479569 -0.0315364262396987 -0.0785401508063792 ...
        -0.0325684687758215 0.118113213360683 0.290632062875447 ...
        0.366600041576101 0.290632062875447 0.118113213360683 ...
        -0.0325684687758215 -0.0785401508063792 -0.0315364262396987 ...
        0.0305905027479569 0.0435032642143533 0.00814686351685512 ...
        -0.027479955818068 -0.0263866312812335 0.00270237704019556 ...
        0.0235385483188136 0.0152812045293529 -0.00825969852221126 ...
        -0.019114452694763 -0.0074017128932904 0.0107635099625934 ...
        0.0145535451322666 0.00177684387205202 -0.0112848561267494 ...
        -0.0101855029881586 0.00205718082089686 0.0105124444862346 ...
        0.00628422547014579 -0.00441419642396248 -0.00895693619844078 ...
        -0.00302809445644428 0.00558491087427046 0.00702056423076478 ...
        0.000492952103616441 -0.00586839744659332 -0.00501818775278523 ...
        0.00133315571734353 0.00555626927804892 0.00316976097922401 ...
        -0.00254213573281125 -0.00491963966865528 -0.00159526956395403 ...
        0.00330856712401722 0.00422695372221901 0.00034084655276477 ...
        -0.00389810022571786 -0.00381491474925871 0.000548062872608657 ...
        0.00475437973871647 0.00447469467579767 -0.000484128570803981 ...
        -0.00655232978364926 -0.00975930365741415 -0.00893280183169497 ...
        -0.00565142810678361 -0.00244013953902201 -0.000565284115571822]);
end

% y = step(Hd,double(x));
y=filter(Hd.Numerator,1,x);
y=y(floor(length(Hd.Numerator)/2)+1:end);

% [EOF]
